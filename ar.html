<script src="https://aframe.io/releases/0.6.0/aframe.min.js"></script>
<script src="https://rawgit.com/jeromeetienne/ar.js/master/aframe/build/aframe-ar.js"></script>
<script>
        	window.addEventListener('message', function(event) { 
                        document.getElementById("entity").collada-model="url("+event.data+")";
                        //document.getElementById("mtl").src=event.data+'.mtl';
                        alert('Inside ar.html outside if: '+document.getElementById("entity").collada-model);
    if (~event.origin.indexOf('http://github.com/rishavjayswal/augmented-reality')) { 
        document.getElementById("obj").src=event.data+'.obj';
            alert('Inside ar.html: '+document.getElementById("obj").src);
        document.getElementById("mtl").src=event.data+'.mtl';
            //console.log(document.getElementById("obj").src);
    } else { 
        return; 
    } 
    
});
        
</script>        
<body style="margin : 0px; overflow: hidden;">
        <a-scene embedded arjs='sourceType: webcam;'>
               <a-assets>
                        <a-asset-item id="obj" src="resources/couch.obj"></a-asset-item>
                        <a-asset-item id="mtl" src="resources/couch.mtl"></a-asset-item>
                </a-assets> 
                <!-- Using the asset management system. -->
                <a-marker-camera preset="hiro"></a-marker-camera>
                <a-entity id="entity" collada-model="url(resources/couch.dae)" scale="0.5 0.5 0.5"></a-entity>
                
                <!-- <a-image src="resources/couch4.png"></a-image> -->
                <a-marker-camera preset="hiro"></a-marker-camera> 
        </a-scene>
</body>
